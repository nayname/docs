---
title: "Node Configuration"
description: "Complete reference for configuring Cosmos EVM nodes, JSON-RPC settings, and command-line options"
mode: "wide"
---

Configure EVM-specific settings in `~/.evmd/config/app.toml`. This guide covers parameters unique to the EVM implementation.

<Tabs>

  <Tab title="EVM">
    EVM execution environment configuration.

    <ParamField body="tracer" type="string" default="">
      Controls VM execution tracing for debugging.

      **Valid Options:**
      - `""` - Disabled (default)
      - `"json"` - Full execution trace in JSON format, used by debug_traceTransaction RPC
      - `"struct"` - Go struct format for programmatic processing
      - `"access_list"` - Generates EIP-2930 access lists for gas optimization
      - `"markdown"` - Human-readable format for manual analysis

      **Source:** `server/config/config.go:139`
      **Implementation:** `x/vm/keeper/state_transition.go:150-157`
    </ParamField>

    <ParamField body="max-tx-gas-wanted" type="number" default="0">
      Limits gas for transactions in CheckTx mode to prevent DoS attacks.

      When set to 0, any gas amount is accepted which can lead to mempool spam.

      **Source:** `server/config/config.go:141`
      **Testnet Default:** Set by `evmd/cmd/evmd/cmd/testnet.go:303`
    </ParamField>

    <ParamField body="cache-preimage" type="boolean" default="false">
      Enables SHA3 preimage recording in the VM for debugging tools to reverse hash lookups.

      Increases memory usage when enabled.

      **Source:** `server/config/config.go:143`
    </ParamField>

    <ParamField body="evm-chain-id" type="number" default="262144">
      EIP-155 replay protection chain ID.

      Must match the expected network chain ID. Used for transaction signing validation.

      **Source:** `server/config/config.go:145`
      **Used in:** `x/vm/genesis.go:22`
    </ParamField>

    <ParamField body="min-tip" type="number" default="0">
      Minimum priority fee (tip) required for transaction inclusion in mempool.

      Transactions with tips below this value may be rejected. Set to 0 to disable filtering.

      **Flag:** `EVMMinTip` 
      **Source:** `config/server_app_options.go:GetMinTip()`
      **Type:** Converted to `uint256.Int` internally
    </ParamField>

  </Tab>

  <Tab title="JSON-RPC">
    Ethereum JSON-RPC server configuration.

    ## Core Settings

    <ParamField body="enable" type="boolean" default="false">
      Enable the JSON-RPC server.

      Must be `true` for Ethereum compatibility.

      **Source:** `server/config/config.go:169`
      **Testnet configuration:** `evmd/cmd/evmd/cmd/testnet.go:303`
    </ParamField>

    <ParamField body="address" type="string" default="127.0.0.1:8545">
      HTTP server bind address using standard Ethereum RPC port.

      **Source:** `server/config/config.go:153`
    </ParamField>

    <ParamField body="ws-address" type="string" default="127.0.0.1:8546">
      WebSocket server address for eth_subscribe methods.

      **Source:** `server/config/config.go:155`
      **Implementation:** `rpc/stream/rpc.go`
    </ParamField>

    <ParamField body="api" type="string" default="eth,net,web3">
      JSON-RPC namespaces to enable.

      **Available namespaces:** `web3`, `eth`, `personal`, `net`, `txpool`, `debug`, `miner`

      **Source:** `server/config/config.go:151`
      **Namespace implementations:** `rpc/namespaces/`
    </ParamField>

    <ParamField body="ws-origins" type="string[]" default="['127.0.0.1', 'localhost']">
      Allowed CORS origins for WebSocket connections.

      **Source:** `server/config/config.go:195`
    </ParamField>

    ## Resource Limits

    <ParamField body="gas-cap" type="number" default="25000000">
      Gas limit for eth_call/estimateGas operations (25M gas).

      Set to 0 for unlimited.

      **Source:** `server/config/config.go:157`
      **Enforced:** `rpc/namespaces/ethereum/eth/api.go:1039`
    </ParamField>

    <ParamField body="txfee-cap" type="number" default="1">
      Maximum transaction fee cap in ether for eth_sendTransaction.

      **Source:** `server/config/config.go:163`
      **Enforced:** `rpc/namespaces/ethereum/eth/api.go:1586`
    </ParamField>

    <ParamField body="filter-cap" type="number" default="200">
      Maximum concurrent filters per connection.

      **Source:** `server/config/config.go:165`
      **Implementation:** `rpc/namespaces/ethereum/eth/filters/`
    </ParamField>

    <ParamField body="feehistory-cap" type="number" default="100">
      Maximum blocks that can be fetched for eth_feeHistory.

      **Source:** `server/config/config.go:167`
    </ParamField>

    <ParamField body="logs-cap" type="number" default="10000">
      Maximum logs returned from a single eth_getLogs query.

      **Source:** `server/config/config.go:171`
      **Enforced:** `rpc/namespaces/ethereum/eth/filters/api.go:442`
    </ParamField>

    <ParamField body="block-range-cap" type="number" default="10000">
      Maximum block range allowed for eth_getLogs queries.

      **Source:** `server/config/config.go:173`
      **Enforced:** `rpc/namespaces/ethereum/eth/filters/filter.go:268`
    </ParamField>

    ## Connection Settings

    <ParamField body="batch-request-limit" type="number" default="1000">
      Maximum number of requests in a batch (go-ethereum standard).

      **Source:** `server/config/config.go:182`
    </ParamField>

    <ParamField body="batch-response-max-size" type="number" default="25000000">
      Maximum bytes returned from a batched call (25MB).

      **Source:** `server/config/config.go:184`
    </ParamField>

    <ParamField body="http-timeout" type="string" default="30s">
      Read/write timeout for HTTP JSON-RPC server.

      **Source:** `server/config/config.go:175`
    </ParamField>

    <ParamField body="http-idle-timeout" type="string" default="120s">
      Idle timeout for HTTP connections.

      **Source:** `server/config/config.go:177`
    </ParamField>

    <ParamField body="max-open-connections" type="number" default="0">
      Maximum simultaneous connections for the server listener.

      Set to 0 for unlimited.

      **Source:** `server/config/config.go:187`
    </ParamField>

    <ParamField body="evm-timeout" type="string" default="5s">
      Global timeout for eth_call operations.

      **Source:** `server/config/config.go:161`
    </ParamField>

    ## Features

    <ParamField body="enable-indexer" type="boolean" default="false">
      Enable custom transaction indexer for EVM transactions.

      **Required for:** `eth_getLogs`, `eth_getTransactionReceipt`

      **Source:** `server/config/config.go:189`
      **Testnet default:** `evmd/cmd/evmd/cmd/testnet.go:303`
    </ParamField>

    <ParamField body="enable-profiling" type="boolean" default="false">
      Enable pprof endpoints in debug namespace.

      **Source:** `server/config/config.go:197`
    </ParamField>

    <ParamField body="metrics-address" type="string" default="127.0.0.1:6065">
      Prometheus metrics server address.

      **Metrics path:** `/debug/metrics/prometheus`

      **Source:** `server/config/config.go:191`
    </ParamField>

    ## Security

    <ParamField body="allow-unprotected-txs" type="boolean" default="false">
      Allow non-EIP155 signed transactions to be submitted.

      **Source:** `server/config/config.go:180`
    </ParamField>

    <ParamField body="allow-insecure-unlock" type="boolean" default="true">
      Allow insecure account unlocking when personal namespace is enabled.

      **Source:** `server/config/config.go:159`
    </ParamField>

    <ParamField body="fix-revert-gas-refund-height" type="number" default="0">
      Chain-specific upgrade height for gas refund fix.

      Set to 0 to disable.

      **Source:** `server/config/config.go:193`
    </ParamField>
  </Tab>

  <Tab title="TLS">
    TLS settings for JSON-RPC server.

    <ParamField body="certificate-path" type="string" default="">
      Path to TLS certificate `.pem` file.

      Leave empty to disable TLS.

      **Source:** `server/config/config.go:203`
      **Validation:** `server/config/config.go:342-343`
    </ParamField>

    <ParamField body="key-path" type="string" default="">
      Path to TLS private key `.pem` file.

      Leave empty to disable TLS.

      **Source:** `server/config/config.go:205`
      **Validation:** `server/config/config.go:348-350`
    </ParamField>
  </Tab>

  <Tab title="CLI Flags">
    Complete list of EVM-specific command-line flags for `evmd start`.

    ## EVM Flags

    <ParamField body="--evm.tracer" type="string">
      Set VM execution tracer (`json`, `struct`, `access_list`, `markdown`)
    </ParamField>

    <ParamField body="--evm.max-tx-gas-wanted" type="number">
      Maximum gas wanted for each eth tx in CheckTx mode
    </ParamField>

    <ParamField body="--evm.cache-preimage" type="boolean">
      Enable SHA3 preimage recording in the VM
    </ParamField>

    <ParamField body="--evm.evm-chain-id" type="number">
      EIP-155 replay protection chain ID
    </ParamField>

    ## JSON-RPC Flags

    <ParamField body="--json-rpc.enable" type="boolean">
      Enable the JSON-RPC server
    </ParamField>

    <ParamField body="--json-rpc.api" type="string">
      JSON-RPC namespaces to enable (comma-separated: `eth,net,web3,txpool,debug,personal,miner`)
    </ParamField>

    <ParamField body="--json-rpc.address" type="string">
      HTTP server bind address (default: `127.0.0.1:8545`)
    </ParamField>

    <ParamField body="--json-rpc.ws-address" type="string">
      WebSocket server bind address (default: `127.0.0.1:8546`)
    </ParamField>

    <ParamField body="--json-rpc.ws-origins" type="string">
      Allowed WebSocket origins (comma-separated)
    </ParamField>

    <ParamField body="--json-rpc.gas-cap" type="number">
      Gas cap for eth_call/estimateGas operations
    </ParamField>

    <ParamField body="--json-rpc.allow-insecure-unlock" type="boolean">
      Allow insecure account unlocking via HTTP
    </ParamField>

    <ParamField body="--json-rpc.evm-timeout" type="duration">
      Global timeout for eth_call operations (e.g., `5s`)
    </ParamField>

    <ParamField body="--json-rpc.txfee-cap" type="float">
      Maximum transaction fee cap in ether
    </ParamField>

    <ParamField body="--json-rpc.filter-cap" type="number">
      Maximum concurrent filters per connection
    </ParamField>

    <ParamField body="--json-rpc.logs-cap" type="number">
      Maximum logs returned from eth_getLogs
    </ParamField>

    <ParamField body="--json-rpc.block-range-cap" type="number">
      Maximum block range for eth_getLogs queries
    </ParamField>

    <ParamField body="--json-rpc.http-timeout" type="duration">
      HTTP server read/write timeout (e.g., `30s`)
    </ParamField>

    <ParamField body="--json-rpc.http-idle-timeout" type="duration">
      HTTP server idle timeout (e.g., `120s`)
    </ParamField>

    <ParamField body="--json-rpc.allow-unprotected-txs" type="boolean">
      Allow non-EIP155 signed transactions
    </ParamField>

    <ParamField body="--json-rpc.max-open-connections" type="number">
      Maximum simultaneous connections (0 = unlimited)
    </ParamField>

    <ParamField body="--json-rpc.enable-indexer" type="boolean">
      Enable EVM transaction indexer
    </ParamField>

    <ParamField body="--json-rpc.batch-request-limit" type="number">
      Maximum requests in a batch
    </ParamField>

    <ParamField body="--json-rpc.batch-response-max-size" type="number">
      Maximum bytes in batch response
    </ParamField>

    <ParamField body="--json-rpc.enable-profiling" type="boolean">
      Enable pprof profiling endpoints
    </ParamField>

    <ParamField body="--json-rpc.fix-revert-gas-refund-height" type="number">
      Upgrade height for gas refund fix
    </ParamField>

    <ParamField body="--metrics" type="boolean">
      Enable Prometheus metrics for JSON-RPC server
    </ParamField>

    ## TLS Flags

    <ParamField body="--tls.certificate-path" type="string">
      Path to TLS certificate `.pem` file
    </ParamField>

    <ParamField body="--tls.key-path" type="string">
      Path to TLS private key `.pem` file
    </ParamField>

    ## Usage Examples

    ### Basic JSON-RPC
    ```bash
    evmd start --json-rpc.enable
    ```

    ### Full Debug Setup
    ```bash
    evmd start \
      --json-rpc.enable \
      --json-rpc.api eth,net,web3,txpool,debug \
      --json-rpc.enable-indexer \
      --json-rpc.enable-profiling \
      --evm.tracer json \
      --metrics
    ```

    ### Production Configuration
    ```bash
    evmd start \
      --json-rpc.enable \
      --json-rpc.api eth,net,web3 \
      --json-rpc.enable-indexer \
      --json-rpc.gas-cap 50000000 \
      --json-rpc.allow-unprotected-txs=false \
      --json-rpc.max-open-connections 100 \
      --evm.max-tx-gas-wanted 40000000
    ```

    ### TLS Enabled
    ```bash
    evmd start \
      --json-rpc.enable \
      --tls.certificate-path /path/to/cert.pem \
      --tls.key-path /path/to/key.pem
    ```

    ## Flag Priority

    1. Command-line flags (highest)
    2. Environment variables
    3. Configuration file (`app.toml`)
    4. Default values (lowest)

    <Note>
      Flag definitions: `server/flags/flags.go`
    </Note>
  </Tab>

  <Tab title="app.toml">
    Complete `app.toml` with EVM-specific sections highlighted.

    ```toml app.toml lines highlight={131-133,135,137-140,142-143,145-146,148-149,151-153,155,157-158,160-161,163-164,166-168,170-172,174-175,177-178,180-181,183-184,186-187,189-190,192-193,195-196,198-199,201-202,204-206,208-210,212-213,215-217,219-220,222-223,225-226,228-229,231-233,235,237-238,240-241}
    # This is a TOML config file.
    # For more information, see https://github.com/toml-lang/toml

    ###############################################################################
    ###                           Base Configuration                            ###
    ###############################################################################

    # The minimum gas prices a validator is willing to accept for processing a
    # transaction. A transaction's fees must meet the minimum of any denomination
    # specified in this config (e.g. 0.25token1,0.0001token2).
    minimum-gas-prices = "0stake"

    # The maximum gas a query coming over rest/grpc may consume.
    # If this is set to zero, the query can consume an unbounded amount of gas.
    query-gas-limit = "0"

    # default: the last 362880 states are kept, pruning at 10 block intervals
    # nothing: all historic states will be saved, nothing will be deleted (i.e. archiving node)
    # everything: 2 latest states will be kept; pruning at 10 block intervals.
    # custom: allow pruning options to be manually specified through 'pruning-keep-recent', and 'pruning-interval'
    pruning = "default"

    # These are applied if and only if the pruning strategy is custom.
    pruning-keep-recent = "0"
    pruning-interval = "0"

    # HaltHeight contains a non-zero block height at which a node will gracefully
    # halt and shutdown that can be used to assist upgrades and testing.
    halt-height = 0

    # HaltTime contains a non-zero minimum block time (in Unix seconds) at which
    # a node will gracefully halt and shutdown that can be used to assist upgrades and testing.
    halt-time = 0

    # MinRetainBlocks defines the minimum block height offset from the current
    # block being committed, such that all blocks past this offset are pruned
    # from CometBFT. It is used as part of the process of determining the
    # ResponseCommit.RetainHeight value during ABCI Commit. A value of 0 indicates
    # that no blocks should be pruned.
    min-retain-blocks = 0

    # InterBlockCache enables inter-block caching.
    inter-block-cache = true

    # IndexEvents defines the set of events in the form {eventType}.{attributeKey},
    # which informs CometBFT what to index. If empty, all events will be indexed.
    index-events = []

    # IavlCacheSize set the size of the iavl tree cache (in number of nodes).
    iavl-cache-size = 10000

    # IAVLDisableFastNode enables or disables the fast node feature of IAVL.
    # Default is false.
    iavl-disable-fastnode = false

    # AppDBBackend defines the type of Database to use for the application and snapshots DBs.
    app-db-backend = "goleveldb"

    ###############################################################################
    ###                         Telemetry Configuration                         ###
    ###############################################################################

    [telemetry]

    # Prefixed with keys to separate services.
    service-name = ""

    # Enabled enables the application telemetry functionality. When enabled,
    # an in-memory sink is also enabled by default. Operators may also enabled
    # other sinks such as Prometheus.
    enabled = false

    # Enable prefixing gauge values with hostname.
    enable-hostname = false

    # Enable adding hostname to labels.
    enable-hostname-label = false

    # Enable adding service to labels.
    enable-service-label = false

    # PrometheusRetentionTime, when positive, enables a Prometheus metrics sink.
    prometheus-retention-time = 0

    # GlobalLabels defines a global set of name/value label tuples applied to all
    # metrics emitted using the wrapper functions defined in telemetry package.
    [telemetry.global-labels]

    ###############################################################################
    ###                           API Configuration                             ###
    ###############################################################################

    [api]

    # Enable defines if the API server should be enabled.
    enable = false

    # Swagger defines if swagger documentation should automatically be registered.
    swagger = false

    # Address defines the API server to listen on.
    address = "tcp://localhost:1317"

    # MaxOpenConnections defines the number of maximum open connections.
    max-open-connections = 1000

    # The maximum number of requests that can be serviced at the same time
    rpc-read-timeout = 10

    # RPCWriteTimeout defines the CometBFT RPC write timeout (in seconds).
    rpc-write-timeout = 0

    # RPCMaxBodyBytes defines the CometBFT maximum request body (in bytes).
    rpc-max-body-bytes = 1000000

    # EnabledUnsafeCORS defines if CORS should be enabled (unsafe - use it at your own risk).
    enabled-unsafe-cors = false

    ###############################################################################
    ###                           gRPC Configuration                            ###
    ###############################################################################

    [grpc]

    # Enable defines if the gRPC server should be enabled.
    enable = false

    # Address defines the gRPC server address to bind to.
    address = "localhost:9090"

    ###############################################################################
    ###                             EVM Configuration                           ###
    ###############################################################################

    [evm]

    # Tracer defines the 'vm.Tracer' type that the EVM will use when the node is run in
    # debug mode. To enable tracing use the '--evm.tracer' flag when starting your node.
    # Valid types are: json|struct|access_list|markdown
    tracer = ""

    # MaxTxGasWanted defines the gas wanted for each eth tx returned in ante handler in check tx mode.
    max-tx-gas-wanted = 0

    # EnablePreimageRecording enables tracking of SHA3 preimages in the VM
    cache-preimage = false

    # EVMChainID is the EIP-155 compatible replay protection chain ID. This is separate from the Cosmos chain ID.
    evm-chain-id = 262144

    ###############################################################################
    ###                           JSON RPC Configuration                        ###
    ###############################################################################

    [json-rpc]

    # Enable defines if the JSON-RPC server should be enabled.
    enable = false

    # EVM RPC HTTP server address to bind to.
    address = "127.0.0.1:8545"

    # Address defines the EVM WebSocket server address to bind to.
    ws-address = "127.0.0.1:8546"

    # WSOrigins defines the allowed origins for WebSocket connections.
    # Example: ["localhost", "127.0.0.1", "myapp.example.com"]
    ws-origins = ["127.0.0.1", "localhost"]

    # API defines a list of JSON-RPC namespaces that should be enabled
    # Example: "eth,txpool,personal,net,debug,web3"
    api = "eth,net,web3"

    # GasCap sets a cap on gas that can be used in eth_call/estimateGas (0=infinite).
    gas-cap = 25000000

    # Allow insecure account unlocking when account-related RPCs are exposed by http
    allow-insecure-unlock = true

    # EVMTimeout is the global timeout for eth_call. Default: 5s.
    evm-timeout = "5s"

    # TxFeeCap is the global tx-fee cap for send transaction. Default: 1eth.
    txfee-cap = 1

    # FilterCap sets the global cap for total number of filters that can be created
    filter-cap = 200

    # FeeHistoryCap sets the global cap for total number of blocks that can be fetched
    feehistory-cap = 100

    # LogsCap defines the max number of results can be returned from single 'eth_getLogs' query.
    logs-cap = 10000

    # BlockRangeCap defines the max block range allowed for 'eth_getLogs' query.
    block-range-cap = 10000

    # HTTPTimeout is the read/write timeout of http json-rpc server.
    http-timeout = "30s"

    # HTTPIdleTimeout is the idle timeout of http json-rpc server.
    http-idle-timeout = "120s"

    # AllowUnprotectedTxs restricts unprotected (non EIP155 signed) transactions to be submitted via
    # the node's RPC when the global parameter is disabled.
    allow-unprotected-txs = false

    # MaxOpenConnections sets the maximum number of simultaneous connections
    # for the server listener.
    max-open-connections = 0

    # EnableIndexer enables the custom transaction indexer for the EVM (ethereum transactions).
    enable-indexer = false

    # MetricsAddress defines the EVM Metrics server address to bind to. Pass --metrics in CLI to enable
    # Prometheus metrics path: /debug/metrics/prometheus
    metrics-address = "127.0.0.1:6065"

    # Upgrade height for fix of revert gas refund logic when transaction reverted.
    fix-revert-gas-refund-height = 0

    # Maximum number of requests in a batch.
    batch-request-limit = 1000

    # Maximum number of bytes returned from a batched call.
    batch-response-max-size = 25000000

    # Enabled profiling in the debug namespace
    enable-profiling = false

    ###############################################################################
    ###                             TLS Configuration                           ###
    ###############################################################################

    [tls]

    # Certificate path defines the cert.pem file path for the TLS configuration.
    certificate-path = ""

    # Key path defines the key.pem file path for the TLS configuration.
    key-path = ""
    ```

    <Note>
      **Highlighted lines (130-233):** EVM-specific configuration sections added by Cosmos EVM

      **Standard sections (1-129):** Base Cosmos SDK configuration for consensus, state, API, and telemetry

      **Template sources:**
      - SDK config: `cosmos-sdk/server/config/toml.go`
      - EVM config: `evm/server/config/toml.go:4-116`
    </Note>
  </Tab>

  <Tab title="Chain">
    Chain-specific configuration parameters.

    <ParamField body="chain-id" type="string" default="local-1">
      Cosmos SDK chain identifier for transaction signing and network identification.

      **CLI Flag:** `--chain-id`
      **Environment:** `EVMD_CHAIN_ID`
      **Config File:** `chain.id`
    </ParamField>

    <ParamField body="evm-chain-id" type="number" default="262144">
      EIP-155 replay protection chain ID for Ethereum compatibility.

      **CLI Flag:** `--evm-chain-id`
      **Environment:** `EVMD_EVM_CHAIN_ID`
      **Config File:** `chain.evm-chain-id`
    </ParamField>

    <ParamField body="denom" type="string" default="atest">
      Base denomination for native token transactions and staking.

      **CLI Flag:** `--denom`
      **Environment:** `EVMD_DENOM`
      **Config File:** `chain.denom`
    </ParamField>

    <ParamField body="extended-denom" type="string" default="test">
      Extended denomination for token metadata and display purposes.

      **CLI Flag:** `--extended-denom`
      **Environment:** `EVMD_EXTENDED_DENOM`
      **Config File:** `chain.extended-denom`
    </ParamField>

    <ParamField body="display-denom" type="string" default="TEST">
      Human-readable denomination displayed in wallets and interfaces.

      **CLI Flag:** `--display-denom`
      **Environment:** `EVMD_DISPLAY_DENOM`
      **Config File:** `chain.display-denom`
    </ParamField>

    <ParamField body="decimals" type="number" default="18">
      Number of decimal places for the native token (Ethereum standard).

      **CLI Flag:** `--decimals`
      **Environment:** `EVMD_DECIMALS`
      **Config File:** `chain.decimals`
    </ParamField>

    <ParamField body="coin-type" type="number" default="60">
      BIP-44 coin type for HD wallet derivation (60 = Ethereum standard).

      **CLI Flag:** `--coin-type`
      **Environment:** `EVMD_COIN_TYPE`
      **Config File:** `chain.coin-type`
    </ParamField>

  </Tab>
</Tabs>